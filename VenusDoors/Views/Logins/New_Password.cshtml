                                                               
@{
    ViewBag.Title = "New Password";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="br-pageheader pd-y-15 pd-l-20">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
        <a class="breadcrumb-item" href="#">Login</a>
        <span class="breadcrumb-item active">@ViewBag.Title</span>
    </nav>
</div><!-- br-pageheader -->

<div class="br-pagebody">
    <div class="br-section-wrapper">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-11 pd-sm-bottom-30">
                        <h4 class="tx-gray-800 mg-b-5">@ViewBag.Title</h4>
                        <p class="mg-b-0">Enter your new password.</p>
                    </div>
                </div>
            </div>
        </div>
            <div method="post" class="form-layout form-layout-1">
                <div class="row mg-b-25">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label">Password:</label>
                            <input disabled id="inptPassword1" required class="required ddbbld RequiereLlenar form-control" type="password" minlength="8" maxlength="15" title="Use a format that matches the one requested. Minimum 8 characters. Maximum 15 characters." name="password" placeholder="Enter password">
                            <label id="labelerror1" style="display:none; color:red; font-size:10px; margin-bottom: 0!important;">The password must have more than 7 characters</label>
                            <label id="labelerror11" style="display:none; color:red; font-size:10px; margin-bottom: 0!important;">The password must be less than 15 characters</label>
                        </div>
                    </div><!-- col-4 -->
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label">Confirm Password:</label>
                            <input disabled required class="required ddbbld RequiereLlenar form-control" type="password"
                                   minlength="8" maxlength="15" title="Your password must match" id="inptPassword2" name="inptPassword" placeholder="Confirm password">
                            <label id="labelerror2" style="display:none; color:red; font-size:10px; margin-bottom: 0!important;">The password must have more than 7 characters</label>
                            <label id="labelerror22" style="display:none; color:red; font-size:10px; margin-bottom: 0!important;">The password must be less than 15 characters</label>
                        </div>
                    </div><!-- col-4 -->
                </div><!-- row -->

                <div class="form-layout-footer">
                    <button id="btNewppas" @*onclick="this.disabled=true"*@ class="Cursor btn btn-success">Modify password</button>
                    <button onclick="location.href='@Url.Action("Index","Logins")'" class="Cursor btn btn-secondary">Back</button>
                </div><!-- form-layout-footer -->
            </div>
    </div>
</div>

<div id="ModalVerificationCode" class="modal fade" data-backdrop="static" data-keyboard="false" style="display: none;" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content tx-size-sm">
            <div class="modal-body tx-center pd-y-20 pd-x-20">
                <button type="button" onclick="location.href='@Url.Action("Index","Logins")'" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
                <i class="ion-alert tx-100 lh-1 mg-t-20 tx-primary d-inline-block"></i>
                <h4 class="tx-primary tx-semibold mg-b-20">Enter the verification code that was delivered to the mail</h4>
                <div style="display:flex; justify-content:center"><input style="margin-bottom:15px; width:25%!important" type="text" maxlength="8" class="form-control" id="verificationCode" placeholder="Enter code" /></div>                
                <button type="button" id="verificationBTN" class="btn btn-primary ddbbld tx-11 tx-uppercase pd-y-12 pd-x-25 tx-mont">
                    Continue
                </button>
            </div><!-- modal-body -->
        </div><!-- modal-content -->
    </div><!-- modal-dialog -->
</div>


@section scripts{

    <script type="text/javascript">
        var urlValidateCodeRecovery = '@Url.Action("ValidateCodeRecovery", "Logins")';
        var urlModifyPassword = '@Url.Action("ModifyPassword", "Logins")';

        $(document).ready(function () {
            $('#ModalVerificationCode').modal('toggle');           
            $('#ModalVerificationCode').modal({ backdrop: 'static', keyboard: false });
        });

        $("#button-cnt").click(function () {
            window.location.href = '/Logins/Index';
        });
    </script>

@Scripts.Render("~/Scripts/js/PasswordRecovery.Logins.js")
    @*<script type="text/javascript">
           function validarFormulario(){
               $("#validate").validate(function() {
                   if ($('.RequiereLlenar').val() === '') {
                       $('#modalPrueba').modal('toggle');

                   } else {

                   }
               })
           }
           $(document).ready(function () {
               validarFormulario();
           });
    </script>
    <style type="text/number">
        .error {
            color: #f00;
        }
    </style>

    <script>
function soloLetras(e) {
    key = e.keyCode || e.which;
    tecla = String.fromCharCode(key).toLowerCase();
    letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
    especiales = [8, 37, 39, 46];

    tecla_especial = false
    for(var i in especiales) {
        if(key == especiales[i]) {
            tecla_especial = true;
            break;
        }
    }

    if(letras.indexOf(tecla) == -1 && !tecla_especial)
        return false;
}

function limpia() {
    var val = document.getElementById("miInput").value;
    var tam = val.length;
    for(i = 0; i < tam; i++) {
        if(!isNaN(val[i]))
            document.getElementById("miInput").value = '';
    }
}

function soloAndNumeros(e) {
    key = e.keyCode || e.which;
    tecla = String.fromCharCode(key).toLowerCase();
    letras = "0123456789 abcdefghijklmnopqrstuvwxyz";
    especiales = [8, 37, 39, 46];

    tecla_especial = false
    for (var i in especiales) {
        if (key == especiales[i]) {
            tecla_especial = true;
            break;
        }
    }

    if (letras.indexOf(tecla) == -1 && !tecla_especial)
        return false;
}

    </script>*@    
}

